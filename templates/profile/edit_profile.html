{% extends 'profile/profile_dashboard.html' %}
<link rel="stylesheet" href="{{ url_for('static', filename='profile/main_profile.css') }}">

{% block dashboard_content %}
<div class="profile-update-container">
    <h2>Update Profile</h2>

    <!-- Profile Photo Update -->
    <div class="profile-section">
        <div class="profile-photo-container">
            <img src="{{ url_for('static', filename='uploads/profile.jpg') }}"  alt="Profile Photo" class="profile-photo">
            <div class="edit-overlay">
                <label for="profile-photo-input" class="edit-btn">Change Photo</label>
                <input type="file" id="profile-photo-input" name="profile_photo" style="display: none;">
            </div>
        </div>

        <!-- Name Update -->
        <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" id="name" name="name" value="{{ user.name }}" placeholder="Full name">
        </div>

        <!-- Update Profile Button -->
        <button type="button" class="update-btn" id="update-profile-btn">Update Profile</button>
    </div>

    <!-- Change Password Section -->
    <button type="button" class="change-password-btn" id="change-password-btn">Change Password</button>

    <div class="password-fields" id="password-fields">
        <form action="{{ url_for('reg_events.update_profile') }}" method="POST">
            <div class="form-group">
                <label for="current-password">Current Password</label>
                <input type="password" id="current-password" name="current_password" placeholder="Current password">
            </div>

            <div class="form-group">
                <label for="new-password">New Password</label>
                <input type="password" id="new-password" name="new_password" placeholder="New password">
            </div>

            <div class="form-group">
                <label for="confirm-password">Confirm Password</label>
                <input type="password" id="confirm-password" name="confirm_password" placeholder="Confirm new password">
            </div>

            <button type="submit" class="update-btn">Update Password</button>
        </form>
    </div>
</div>
{% endblock %}

<script src="{{ url_for('static', filename='profile/main_profile.js') }}"></script>
